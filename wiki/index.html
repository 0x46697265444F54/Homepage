<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta charset="UTF-8" />
    <link rel="icon" href="favicon.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Exo+2&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Maven+Pro&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="./assets/style.css" />
  </head>
  <body onload="toggleTheme(true)">
    <div id="app"></div>
    <script>
        window.$docsify = {
            name: "FIREDOT.PL WIKI",
            homepage: "contents/_home.md",
            loadNavbar: "contents/_navbar.md",
            loadSidebar: "contents/_sidebar.md",
            alias: {
                "/changelog" : "contents/changelog",
                "/regulamin" : "contents/regulamin",
                "/nawigacja" : "contents/nawigacja",
                "/generator" : "contents/generator",
                "/receptury" : "contents/receptury",
                "/rolnictwo" : "contents/rolnictwo",
                "/teleporty" : "contents/teleporty",
                "/tereny"    : "contents/tereny",
                "/zaklecia"  : "contents/zaklecia",
                "/przedmioty": "contents/przedmioty",
                "/nowosci"   : "contents/nowosci",
                "/inne"      : "contents/inne",
            },
            cornerExternalLinkTarget: "_self",
            auto2top: true,
            subMaxLevel: 1,
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>
  </body>
</html>

<!-- Responsible for switching theme upon button click. -->
<script>
    const props = {
        "--heading-color": "#E3E3E3",
        "--base-color": "#BBB",
        "--base-background-color": "#191919",
        "--hr-border": "1px solid rgba(255, 255, 255, .1)",
        "--blockquote-background": "rgba(255, 255, 255, .05)",
        // SIDEBAR
        "--sidebar-background": "rgba(0, 0, 0, .1)",
        "--sidebar-border-color": "rgba(255, 255, 255, .0)",
        // PAGINATION PLUGIN
        "--pagination-border-top": "1px solid rgba(255, 255, 255, .1)",
        // CUSTOM
        "--custom-sidebar-hover-background-color": "rgba(255, 255, 255, .025)",
        "--custom-sidebar-hover-color": "rgba(255, 255, 255, .9)"
    }

    function updateThemeIcon() {
        const isDarkTheme = localStorage.getItem("isDarkMode") === "true"
        const icon = document.getElementById("theme")
        // Replacing icons based on current theme preference. (ENABLING)
        if (isDarkTheme == true)
            icon.classList.replace("bi-sun-fill", "bi-moon-fill")
        // Replacing icons based on current theme preference. (DISABLING)
        else icon.classList.replace("bi-moon-fill", "bi-sun-fill")
    }

    function toggleTheme(isInitial) {
        // Getting theme preference.
        let isDarkTheme = localStorage.getItem("isDarkMode") === "true"
        // When 'isInitial' is 'true', theme is not toggled but applied based on user preference.
        if (isInitial == true) {
            if (isDarkTheme == true) {
                for (const key in props)
                    document.documentElement.style.setProperty(key, props[key]);
            }
            return;
        }
        // Inverting theme as it has been toggled.
        isDarkTheme = !isDarkTheme
        // Applying or removing dark theme.
        if (isDarkTheme == true)
            for (const key in props)
                document.documentElement.style.setProperty(key, props[key]);
        else document.documentElement.removeAttribute("style");
        // Updating local storage with new preference.
        localStorage.setItem("isDarkMode", isDarkTheme);
        // Updating theme icon.
        updateThemeIcon()
    }
</script>